"use client";
import React from "react";
import Image from "next/image";
import Link from "next/link";
import { products6 } from "@/data/products";

export default function ProductSidebar() {
  const featuredProducts = products6.slice(0, 3).map(product => ({
    id: product.id,
    imgSrc: product.imgSrc,
    imgAlt: product.alt || "product image",
    imgWidth: 720,
    imgHeight: 1005,
    title: product.title,
    currency: "$",
    price: product.price
  }));

  return (
    <div
      className="offcanvas offcanvas-start canvas-filter canvas-sidebar"
      id="sidebarmobile"
    >
      <div className="canvas-wrapper">
        <header className="canvas-header">
          <span className="title">SIDEBAR PRODUCT</span>
          <span
            className="icon-close icon-close-popup"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
          />
        </header>
        <div className="canvas-body">
          <aside className="tf-shop-sidebar wrap-sidebar-mobile sidebar-mobile-open">
            <div className="widget-facet">
              <div
                className="facet-title"
                data-bs-target="#shipping"
                data-bs-toggle="collapse"
                aria-expanded="true"
                aria-controls="shipping"
              >
                <span>Shipping &amp; Delivery</span>
                <span className="icon icon-arrow-up" />
              </div>
              <div id="shipping" className="collapse show">
                <ul className="widget-iconbox-list mb_36">
                  <li className="iconbox-item">
                    <div className="box-icon w_50 round">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width={24}
                        height={16}
                        viewBox="0 0 24 16"
                        fill="none"
                      >
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M0 1C0 0.447715 0.447715 0 1 0H15.5C16.0523 0 16.5 0.447715 16.5 1V3.5H19.7857C20.099 3.5 20.3943 3.64687 20.5833 3.89679L23.7976 8.14679C23.9289 8.32046 24 8.53225 24 8.75V13C24 13.5523 23.5523 14 23 14H20.3293C19.9174 15.1652 18.8062 16 17.5 16C16.1938 16 15.0826 15.1652 14.6707 14H8.82929C8.41745 15.1652 7.3062 16 6 16C4.69378 16 3.58255 15.1652 3.17071 14H1C0.447715 14 0 13.5523 0 13V1ZM3.17071 12C3.58255 10.8348 4.69378 10 6 10C7.3062 10 8.41745 10.8348 8.82929 12H14.5V2H2V12H3.17071ZM16.5 10.1707V5.5H19.2882L22 9.08557V12H20.3293C19.9174 10.8348 18.8062 10 17.5 10C17.1494 10 16.8128 10.0602 16.5 10.1707ZM6 12C5.44772 12 5 12.4477 5 13C5 13.5523 5.44772 14 6 14C6.55227 14 7 13.5523 7 13C7 12.4477 6.55227 12 6 12ZM17.5 12C16.9477 12 16.5 12.4477 16.5 13C16.5 13.5523 16.9477 14 17.5 14C18.0523 14 18.5 13.5523 18.5 13C18.5 12.4477 18.0523 12 17.5 12Z"
                          fill="black"
                        />
                      </svg>
                    </div>
                    <div className="iconbox-content">
                      <h4 className="iconbox-title">Free shipping</h4>
                      <p className="iconbox-desc">
                        Free iconbox for all US order
                      </p>
                    </div>
                  </li>
                  <li className="iconbox-item">
                    <div className="box-icon w_50 round">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width={24}
                        height={24}
                        viewBox="0 0 24 24"
                        fill="none"
                      >
                        <path
                          d="M14.9074 23.9572C13.9179 23.9561 12.9418 23.7273 12.0548 23.2887C9.58879 22.0801 7.33175 20.4851 5.36912 18.5641C3.44812 16.6015 1.85314 14.3444 0.644541 11.8784C0.0604334 10.6753 -0.133278 9.31981 0.0904706 8.0013C0.314219 6.68278 0.94425 5.46709 1.89254 4.52406L3.43026 2.98635C3.79573 2.62231 4.29056 2.41791 4.8064 2.41791C5.32225 2.41791 5.81707 2.62231 6.18255 2.98635L8.47798 5.29292C8.80356 5.62725 8.99924 6.06673 9.02988 6.5324C9.06052 6.99806 8.92409 7.45939 8.64512 7.83349L7.53084 9.3935C8.04739 11.0793 8.9739 12.6107 10.2274 13.8506C11.4467 15.0497 12.9375 15.9366 14.5731 16.4358L16.1331 15.3215C16.5094 15.041 16.9738 14.9047 17.4421 14.9374C17.9103 14.9701 18.3512 15.1696 18.6849 15.4998L20.9803 17.7952C21.3443 18.1607 21.5487 18.6555 21.5487 19.1714C21.5487 19.6872 21.3443 20.182 20.9803 20.5475L19.4426 22.0852C18.8467 22.6799 18.1394 23.1513 17.3613 23.4725C16.5831 23.7937 15.7493 23.9584 14.9074 23.9572ZM4.81197 4.08949C4.77414 4.08932 4.7367 4.09717 4.70212 4.11254C4.66755 4.1279 4.63663 4.15043 4.6114 4.17863L3.07369 5.70521C2.36974 6.40573 1.90384 7.30983 1.74187 8.28965C1.5799 9.26947 1.73006 10.2754 2.17111 11.1652C3.32229 13.4583 4.82631 15.5564 6.62826 17.3829C8.45481 19.1849 10.5529 20.6889 12.846 21.8401C13.7358 22.2811 14.7417 22.4313 15.7215 22.2693C16.7014 22.1074 17.6055 21.6415 18.306 20.9375L19.788 19.3552C19.8146 19.3302 19.8359 19.3 19.8504 19.2665C19.8649 19.2329 19.8722 19.1933 19.8717 19.1532C19.8711 19.113 19.8639 19.0723 19.8504 19.0383C19.8369 19.0042 19.8181 18.9771 19.7953 18.9571C19.7726 18.9371 19.7466 18.9244 19.718 18.9191C19.6894 18.9137 19.6586 18.9158 19.6302 18.924C19.6026 18.9321 19.5779 18.9462 19.5581 18.9643C19.5383 18.9824 19.524 19.0046 19.5155 19.0293L18.172 20.2982C18.3434 21.0495 18.473 21.8324 18.4702 22.6106C18.4675 23.3889 18.3323 24.1481 18.0917 24.8528C17.8511 25.5575 17.5182 26.1778 17.1185 26.6618C16.7188 27.1458 16.2615 27.4681 15.7855 27.5781C15.3095 27.6882 14.8164 27.5737 14.4041 27.2585C13.9918 26.9432 13.6907 26.446 13.6154 25.9155L11.7195 23.4387C10.7729 23.4136 9.85343 23.2916 9.01544 23.1048L10.3347 21.3912C8.61752 21.0475 7.18245 20.3185 6.19934 19.2815C5.21623 18.2445 4.74288 17.0322 4.82097 15.7893L6.06172 14.3665C7.62456 15.3899 9.55388 15.7383 11.1753 15.2977C11.6989 14.9079 12.3141 14.6108 12.9977 14.5089L13.9193 12.7546C13.9784 13.0184 14.0761 13.2759 14.2105 13.4976C14.3449 13.7192 14.511 13.8976 14.701 14.0174L13.7368 15.3283C12.2825 13.8902 9.94251 13.0864 7.2048 13.0337C4.46709 12.9811 2.14621 13.6844 1.07366 15.0608L2.55703 12.9244C3.14964 12.2133 3.99747 11.9027 4.55196 11.4166C4.88048 10.9929 4.63466 10.4924 4.206 10.2929L3.74274 9.71669C3.32004 9.44442 2.80506 9.39112 2.35777 9.55988L1.15456 10.316C1.23848 9.2581 1.71689 8.49142 2.53724 8.21629C3.35758 7.94116 4.31949 8.14796 4.8155 8.57963C5.09812 8.79792 5.31388 9.05242 5.49389 9.31794L7.00409 7.58903C7.24051 6.99823 7.82483 6.48314 8.52913 6.10179C9.23342 5.72044 10.0205 5.4849 10.8288 5.38504L11.2271 4.22572C11.6175 3.34527 11.9255 2.41558 12.0698 1.47662C12.2331 0.537654 12.2086 0.12494 12.0111 0.210539C11.8136 0.296139 11.5193 1.07925 11.3276 2.0768C11.0888 3.342 11.535 4.48265 12.2046 4.82998C12.8741 5.17732 13.9144 5.04825 14.6119 4.65988L13.7555 6.4156C13.4169 6.67643 12.9795 7.13855 12.4046 7.41295C11.85 7.65892 11.177 7.8673 10.5351 8.09712C10.0842 8.15785 9.59979 8.32409 9.21288 8.55727C8.82643 8.78989 8.51296 9.19157 8.2699 9.66972L8.05143 8.9913L8.12758 9.32752C8.52504 9.45562 8.55194 9.54829 8.25199 9.65588C8.12772 9.72045 8.02143 9.70754 8.02532 9.46566Z"
                          fill="#444444"
                        />
                      </svg>
                    </div>
                    <div className="iconbox-content">
                      <h4 className="iconbox-title">2 - 5 business days</h4>
                      <p className="iconbox-desc">Receive your product!</p>
                    </div>
                  </li>
                </ul>
                <div className="widget-title">FEATURED PRODUCTS</div>
                <ul className="widget-list">
                  {featuredProducts.map(product => (
                    <li key={product.id} className="product">
                      <Link href="#">
                        <div className="image">
                          <Image
                            src={product.imgSrc}
                            alt={product.imgAlt}
                            width={product.imgWidth}
                            height={product.imgHeight}
                          />
                        </div>
                        <div className="product-title">{product.title}</div>
                        <div className="product-price">
                          {product.currency}{product.price}
                        </div>
                      </Link>
                    </li>
                  ))}
                </ul>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>
  );
}
